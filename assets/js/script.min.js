function make2DArray(o,r){let e=new Array(o);for(let o=0;o<e.length;o++)e[o]=new Array(r);return e}let grid,cols,rows;$(document).ready((function(){$("[data-bs-tooltip]").tooltip()}));let resolution=20,wrapAround=!1,started=!1;function setup(){createCanvas(600,400).parent("sketch-holder"),background(0),cols=width/resolution,rows=height/resolution,grid=make2DArray(cols,rows);for(let o=0;o<cols;o++)for(let r=0;r<rows;r++)grid[o][r]=0;frameRate(18)}function draw(){putOnBoard(),started&&nextFrame()}function nextFrame(){next=make2DArray(cols,rows);for(let o=0;o<cols;o++)for(let r=0;r<rows;r++)next[o][r]=0;for(let o=0;o<cols;o++)for(let r=0;r<rows;r++){let e=countNeighbors(grid,o,r);1==grid[o][r]?(e<2&&(next[o][r]=0),2!=e&&3!=e||(next[o][r]=1),e>3&&(next[o][r]=0)):3==e&&(next[o][r]=1)}grid=[...next]}function putOnBoard(){for(let o=0;o<cols;o++)for(let r=0;r<rows;r++){let e=o*resolution,t=r*resolution;1==grid[o][r]?(fill(255),stroke(0),rect(e,t,resolution-1,resolution-1)):(started?(fill(0),stroke(0)):(fill(82,49,45),stroke(82,49,45)),rect(e,t,resolution-1,resolution-1))}}function countNeighbors(o,r,e){let t=0;if(wrapAround)for(let l=-1;l<2;l++)for(let n=-1;n<2;n++){let s=(e+n+rows)%rows;t+=o[(r+l+cols)%cols][s]}else for(let l=-1;l<2;l++)for(let n=-1;n<2;n++)void 0!==o[r+l]&&void 0!==o[r+l][e+n]&&(t+=o[r+l][e+n]);return t-=o[r][e],t}function mousePressed(){if(!started)for(let o=0;o<cols;o++)for(let r=0;r<rows;r++)pixelX=o*resolution,pixelY=r*resolution,mouseX>pixelX&&mouseX<=pixelX+resolution&&mouseY>pixelY&&mouseY<=pixelY+resolution&&(1==grid[o][r]?grid[o][r]=0:grid[o][r]=1)}function keyPressed(){" "==key&&(started=!started),"r"==key&&randomize(),"w"==key&&(wrapAround=!wrapAround)}function randomize(){if(!started)for(let o=0;o<cols;o++)for(let r=0;r<rows;r++)grid[o][r]=Math.round(Math.random())}